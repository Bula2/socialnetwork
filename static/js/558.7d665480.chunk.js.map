{"version":3,"file":"static/js/558.7d665480.chunk.js","mappings":"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","sources":["webpack://socialnetwork/./src/components/Profile/Profile.module.scss?4008","webpack://socialnetwork/./src/components/Profile/ProfileInfo/ProfileInfo.module.scss?e49f","webpack://socialnetwork/./src/components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.module.scss?2ed9","components/Profile/ProfileInfo/ProfileStatus/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://socialnetwork/./src/components/Profile/MyPosts/MyPosts.module.scss?39b9","webpack://socialnetwork/./src/components/Profile/MyPosts/Posts/Post.module.scss?c7b3","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/withRouter.jsx","hoc/withAuthNavigate.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profile\":\"Profile_profile__iH1Oz\"};","// extracted by mini-css-extract-plugin\nexport default {\"person\":\"ProfileInfo_person__9o1nq\",\"avatar\":\"ProfileInfo_avatar__eRTAN\",\"change_photo\":\"ProfileInfo_change_photo__8kWOr\",\"person_info\":\"ProfileInfo_person_info__xhP9j\",\"person_main_info\":\"ProfileInfo_person_main_info__zfFEj\",\"person_main_info_item\":\"ProfileInfo_person_main_info_item__80aUP\"};","// extracted by mini-css-extract-plugin\nexport default {};","import React, {useEffect, useState} from \"react\";\r\nimport cls from \"./ProfileStatus.module.scss\"\r\n\r\nconst ProfileStatus = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () =>{\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateUserStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n       setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div className={cls.profile_status}>\r\n            { !editMode && <div>\r\n                    <span onDoubleClick={activateEditMode}> {props.status !== \"\" ? props.status : \"Статуса нет\"}\r\n                    </span>\r\n                </div>\r\n            }\r\n            { editMode &&\r\n                <div>\r\n                        <textarea onChange={onStatusChange} onBlur={deactivateEditMode}\r\n                                  autoFocus={true} placeholder={\"Изменить статус\"}\r\n                                  value={status}\r\n                        />\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatus;","import cls from \"./ProfileInfo.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport defaultUserImg from \"./../../../assets/img/default_user.png\"\r\nimport ProfileStatus from \"./ProfileStatus/ProfileStatus\";\r\nimport {useEffect} from \"react\";\r\n\r\nconst ProfileInfo = ({uploadPhoto, savePhoto, isPhotoUpload,\r\n                         updateUserStatus, status, profile, isOwner}) => {\r\n\r\n    const showPhotoUploader = () =>{\r\n        uploadPhoto(true);\r\n    }\r\n\r\n    const hidePhotoUploader = () =>{\r\n        uploadPhoto(false);\r\n    }\r\n\r\n    const onPhotoSelected = (e) => {\r\n        if (e.target.files.length){\r\n            savePhoto(e.target.files[0]);\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        uploadPhoto(false);\r\n    }, [])\r\n\r\n    return (\r\n        <div className={cls.person}>\r\n            <div>\r\n                <img className={cls.avatar}\r\n                     src={profile.photos.large != null ? profile.photos.large : defaultUserImg}\r\n                     alt=\"Аватарка\"/>\r\n                {!isOwner &&\r\n                    <div className={cls.change_photo}>\r\n                        { isPhotoUpload ?\r\n                            <input onChange={(e) => {\r\n                                onPhotoSelected(e);\r\n                                hidePhotoUploader();\r\n                            }}\r\n                                   autoFocus={true}\r\n                                   type=\"file\"/> :\r\n                            <button onClick={showPhotoUploader}>Изменить фото</button>}\r\n                    </div>}\r\n            </div>\r\n            <div className={cls.person_info}>\r\n                <NavLink to=\"/profile\" title=\"Это я\">{profile.fullName}</NavLink>\r\n                <div>\r\n                    <ProfileStatus status={status} updateUserStatus={updateUserStatus}/>\r\n                </div>\r\n                <div className={cls.person_main_info}>\r\n                    <div className={cls.person_main_info_item}><span>O cебе: </span>{profile.aboutMe}</div>\r\n                    <div className={cls.person_main_info_item}>\r\n                        <span>В поисках работы: </span>{profile.lookingForAJob ? \"Да\" : \"Нет\"}</div>\r\n                    <div className={cls.person_main_info_item}>\r\n                        <span>Навыки: </span> {profile.lookingForAJobDescription}</div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo;","// extracted by mini-css-extract-plugin\nexport default {\"make_posts\":\"MyPosts_make_posts__1UpMq\",\"posts\":\"MyPosts_posts__Zgj6j\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Nn04U\",\"likes\":\"Post_likes__J-yt6\"};","import cls from \"./Post.module.scss\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport defaultUserImg from \"./../../../../assets/img/default_user.png\"\r\n\r\nconst Post = (props) => {\r\n\r\n    return (\r\n        <div className={cls.item}>\r\n                <NavLink to=\"/profile\"><img src={props.profile.photos.small!=null ? props.profile.photos.small : defaultUserImg} alt=\"\"/>{props.message}</NavLink>\r\n                <NavLink to=\"/profile\" className={cls.likes}>&#128077;{props.likes}</NavLink>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Post;","import cls from \"./MyPosts.module.scss\";\r\nimport Post from \"./Posts/Post\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../Common/ControlsForm/ControlForm\";\r\n\r\nconst AddPostForm = (props) => {\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} name={\"newPost\"}\r\n                   title=\"Новый пост\" placeholder=\"Новый пост\"\r\n                   validate={[required, maxLengthCreator(100)]}\r\n            />\r\n            <button title=\"Опубликовать\">Опубликовать</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst AddPostFormRedux = reduxForm({form: \"profileAddPostForm\"})(AddPostForm)\r\n\r\nconst MyPosts = React.memo(props => {\r\n\r\n    let postElements = props.profilePage.postData.map(post =>\r\n        <Post profile={props.profile} message={post.post} key={post.id} likes={post.likes}/>);\r\n\r\n    let addNewPost = (values) => {\r\n        props.addPost(values.newPost);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={cls.make_posts}>\r\n                <span>Мои посты</span>\r\n                <AddPostFormRedux onSubmit={addNewPost}/>\r\n            </div>\r\n            <div className={cls.posts}>\r\n                {postElements}\r\n            </div>\r\n        </div>\r\n    );\r\n});\r\n\r\nexport default MyPosts;","import React from \"react\";\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\nconst mapStateToProps = (state, props) => {\r\n    return {\r\n        profilePage: state.profilePage,\r\n        profile: props.profile\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        addPost: (newPost) => {\r\n            dispatch(addPostActionCreator(newPost));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import cls from \"./Profile.module.scss\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport Preloader from \"./../Common/Preloader/Preloader\";\r\nimport React from \"react\";\r\n\r\nconst Profile = (props) => {\r\n\r\n    if (!props.profile) return <center><Preloader/></center>;\r\n\r\n    return (\r\n        <div className={cls.content}>\r\n            <ProfileInfo isOwner={props.isOwner} profile={props.profile}\r\n                         status={props.status} updateUserStatus={props.updateUserStatus}\r\n                         isPhotoUpload={props.isPhotoUpload} uploadPhoto={props.uploadPhoto}\r\n                         savePhoto={props.savePhoto}\r\n            />\r\n            <MyPostsContainer profile={props.profile}/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getProfile, getUserStatus, savePhoto, updateUserStatus, uploadPhoto} from \"../../redux/profile-reducer\";\r\nimport withRouter from \"../../hoc/withRouter\";\r\nimport {withAuthNavigate} from \"../../hoc/withAuthNavigate\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile = () => {\r\n        let userId = this.props.router.params.userId;\r\n        if (!userId){\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId)\r\n                this.props.history.push(\"/login\");\r\n        }\r\n        this.props.getProfile(userId);\r\n        this.props.getUserStatus(userId);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (prevProps.router.params.userId !== this.props.router.params.userId)\r\n            this.refreshProfile();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} isOwner={!!this.props.router.params.userId}/>\r\n        );\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n    isPhotoUpload: state.profilePage.isPhotoUpload\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getProfile, getUserStatus,\r\n        updateUserStatus, uploadPhoto, savePhoto}),\r\n    withRouter,\r\n    withAuthNavigate\r\n)(ProfileContainer);","import {\r\n    useLocation,\r\n    useNavigate,\r\n    useParams,\r\n} from \"react-router-dom\";\r\n\r\nexport default function withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n        let location = useLocation();\r\n        let navigate = useNavigate();\r\n        let params = useParams();\r\n        return (\r\n            <Component\r\n                {...props}\r\n                router={{ location, navigate, params }}\r\n            />\r\n        );\r\n    }\r\n    return ComponentWithRouterProp;\r\n}","import React from \"react\";\r\nimport {Navigate} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForNavigate = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthNavigate =(Component) =>{\r\n    class NavigateComponent extends React.Component {\r\n        render() {\r\n            if(!this.props.isAuth) return <Navigate to=\"/login\"/>;\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthNavigateComponent = connect(mapStateToPropsForNavigate)(NavigateComponent);\r\n\r\n    return ConnectedAuthNavigateComponent;\r\n}"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","className","cls","onDoubleClick","onChange","e","currentTarget","value","onBlur","updateUserStatus","autoFocus","placeholder","uploadPhoto","savePhoto","isPhotoUpload","profile","isOwner","src","photos","large","defaultUserImg","alt","target","files","length","onPhotoSelected","type","onClick","to","title","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","small","message","likes","AddPostFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","name","validate","required","maxLengthCreator","React","postElements","profilePage","postData","map","post","id","values","addPost","newPost","connect","state","dispatch","addPostActionCreator","MyPosts","Preloader","ProfileContainer","refreshProfile","userId","router","params","authorizedUserId","history","push","getProfile","getUserStatus","this","prevProps","prevState","snapshot","compose","auth","isAuth","Component","location","useLocation","navigate","useNavigate","useParams","withAuthNavigate","mapStateToPropsForNavigate","NavigateComponent"],"sourceRoot":""}