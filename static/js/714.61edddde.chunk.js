/*! For license information please see 714.61edddde.chunk.js.LICENSE.txt */
(self.webpackChunksocialnetwork=self.webpackChunksocialnetwork||[]).push([[714],{5714:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return te}});var t=n(1413),i=n(5671),r=n(3144),o=n(136),a=n(2882),l=n(2791),c={profile:"Profile_profile__iH1Oz"},d=n(885),u="ProfileInfo_person__9o1nq",f="ProfileInfo_avatar__eRTAN",p="ProfileInfo_change_photo__8kWOr",h="ProfileInfo_person_info__xhP9j",m="ProfileInfo_person_main_info__zfFEj",j="ProfileInfo_person_main_info_item__80aUP",x="ProfileInfo_person_main_info_item_text__mR49m",_="ProfileInfo_links_input__+5x1B",v="ProfileInfo_profile_status__A8S5d",P="ProfileInfo_person_main_button__ykkfi",k="ProfileInfo_contact__1Z2of",g="ProfileInfo_data_form_buttons__pGUMi",N="ProfileInfo_form_summary_error__SpTK+",b=n(3504),y=n(76),Z={},O=n(184),I=function(e){var s=(0,l.useState)(!1),n=(0,d.Z)(s,2),t=n[0],i=n[1],r=(0,l.useState)(e.status),o=(0,d.Z)(r,2),a=o[0],c=o[1];(0,l.useEffect)((function(){c(e.status)}),[e.status]);return(0,O.jsxs)("div",{className:Z.profile_status,children:[!t&&(0,O.jsx)("div",{children:(0,O.jsxs)("span",{onClick:function(){i(!0)},children:[" ",""!==e.status?e.status:"\u0421\u0442\u0430\u0442\u0443\u0441\u0430 \u043d\u0435\u0442"]})}),t&&(0,O.jsx)("div",{children:(0,O.jsx)("textarea",{onChange:function(e){c(e.currentTarget.value)},onBlur:function(){i(!1),e.updateUserStatus(a)},autoFocus:!0,placeholder:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441",value:a})})]})},S=n(6139),U=n(704),w=n(4240),A=(0,U.Z)({form:"edit-profile",enableReinitialize:!0,destroyOnUnmount:!1})((function(e){var s=e.handleSubmit,n=e.profile,t=e.setEditMode,i=e.error;return(0,O.jsxs)("form",{onSubmit:s,children:[(0,O.jsxs)("div",{className:m,children:[(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{className:x,children:"\u0418\u043c\u044f: "}),(0,O.jsx)(S.Z,{placeholder:"\u0418\u043c\u044f",name:"fullName",component:w.g})]}),(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{className:x,children:"O c\u0435\u0431\u0435: "}),(0,O.jsx)(S.Z,{placeholder:"\u041e \u0441\u0435\u0431\u0435",name:"aboutMe",component:w.g})]}),(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{className:x,children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b: "}),(0,O.jsx)(S.Z,{type:"checkbox",name:"lookingForAJob",component:w.I})]}),(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{className:x,children:"\u041d\u0430\u0432\u044b\u043a\u0438: "}),(0,O.jsx)(S.Z,{placeholder:"\u041d\u0430\u0432\u044b\u043a\u0438",name:"lookingForAJobDescription",component:w.g})]})]}),(0,O.jsx)("div",{children:(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{className:x,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),Object.keys(n.contacts).map((function(e){return(0,O.jsx)("div",{className:j,children:(0,O.jsxs)("div",{className:k,children:[(0,O.jsxs)("span",{className:x,children:[e,": "]}),(0,O.jsx)(S.Z,{placeholder:e,name:"contacts.".concat(e),component:w.I,className:_},e)]},e)},e)}))]})})]}),(0,O.jsxs)("div",{children:[i&&(0,O.jsx)("div",{className:N,children:(0,O.jsx)("span",{children:i})}),(0,O.jsxs)("div",{className:g,children:[(0,O.jsx)("div",{className:P,children:(0,O.jsx)("button",{children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),(0,O.jsx)("div",{className:P,children:(0,O.jsx)("button",{onClick:function(){return t(!1)},children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})]})})),C=function(e){var s=e.profile,n=e.isOwner,t=e.setEditMode;return(0,O.jsxs)("div",{className:m,children:[(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{children:"O c\u0435\u0431\u0435: "}),s.aboutMe]}),(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{children:"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b: "}),s.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{children:"\u041d\u0430\u0432\u044b\u043a\u0438: "})," ",s.lookingForAJobDescription]}),(0,O.jsxs)("div",{className:j,children:[(0,O.jsx)("span",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "}),Object.keys(s.contacts).map((function(e){if(s.contacts[e])return(0,O.jsx)(L,{contactTitle:e,contactValue:s.contacts[e]},e)}))]}),n&&(0,O.jsx)("div",{className:P,children:(0,O.jsx)("button",{onClick:function(){return t(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})})]})},L=function(e){var s=e.contactTitle,n=e.contactValue;return(0,O.jsxs)("div",{className:k,children:[(0,O.jsx)("span",{children:s})," : ",n]})},M=function(e){var s=e.uploadPhoto,n=e.savePhoto,t=e.isPhotoUpload,i=e.updateUserStatus,r=e.status,o=e.profile,a=e.isOwner,c=e.saveProfile,m=(0,l.useState)(!1),j=(0,d.Z)(m,2),x=j[0],_=j[1];(0,l.useEffect)((function(){s(!1)}),[]);return(0,O.jsxs)("div",{className:u,children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("img",{className:f,src:null!=o.photos.large?o.photos.large:y,alt:"\u0410\u0432\u0430\u0442\u0430\u0440\u043a\u0430"}),a&&(0,O.jsx)("div",{className:p,children:t?(0,O.jsx)("input",{onChange:function(e){!function(e){e.target.files.length&&n(e.target.files[0])}(e),s(!1)},autoFocus:!0,type:"file"}):(0,O.jsx)("button",{onClick:function(){s(!0)},children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"})})]}),(0,O.jsxs)("div",{className:h,children:[(0,O.jsx)(b.OL,{to:"/profile",title:"\u042d\u0442\u043e \u044f",children:o.fullName}),(0,O.jsx)("div",{className:v,children:(0,O.jsx)(I,{status:r,updateUserStatus:i})}),x?(0,O.jsx)(A,{initialValues:o,profile:o,onSubmit:function(e){c(e).then((function(){_(!1)}))},setEditMode:_}):(0,O.jsx)(C,{profile:o,isOwner:a,setEditMode:_})]})]})},F=n(6070),E="MyPosts_header_my_posts__X65jJ",J="MyPosts_make_posts__1UpMq",T="MyPosts_posts__Zgj6j",D="Post_item__Nn04U",q="Post_likes__J-yt6",z="Post_like_was_add__kn08h",W=n(1694),B=n.n(W),H=function(e){return(0,O.jsxs)("div",{className:D,children:[(0,O.jsxs)(b.OL,{to:"",children:[(0,O.jsx)("img",{src:null!=e.profile.photos.small?e.profile.photos.small:y,alt:""}),e.message]}),(0,O.jsxs)(b.OL,{to:"",onClick:function(){e.likeWasAdd?e.delLike(e.id):e.addLike(e.id)},className:B()(q,e.likeWasAdd&&z),children:["\ud83d\udc4d",e.likes]})]})},R=n(5304),V=(0,U.Z)({form:"profileAddPostForm"})((function(e){return(0,O.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,O.jsx)(S.Z,{component:w.g,name:"newPost",title:"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442",placeholder:"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0441\u0442",validate:[R.C,(0,R.D)(100)]}),(0,O.jsx)("button",{title:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})]})})),$=l.memo((function(e){var s=e.profilePage.postData.map((function(s){return(0,O.jsx)(H,{addLike:e.addLike,profile:e.profile,message:s.post,likes:s.likes,likeWasAdd:s.likeWasAdd,id:s.id,delLike:e.delLike},s.id)}));return(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:E,children:(0,O.jsx)("span",{children:"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"})}),e.isOwner&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:J,children:(0,O.jsx)(V,{onSubmit:function(s){e.addPost(s.newPost)}})}),(0,O.jsx)("div",{className:T,children:s})]})]})})),G=n(8687),K=(0,G.$j)((function(e,s){return{profilePage:e.profilePage,profile:s.profile,isOwner:s.isOwner}}),{addPost:F.q2,addLike:F.dE,delLike:F.BH})($),X=n(1177),Q=(n(2144),function(e){return e.profile?(0,O.jsxs)("div",{className:c.content+" animate__animated animate__fadeIn",children:[(0,O.jsx)(M,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isPhotoUpload:e.isPhotoUpload,uploadPhoto:e.uploadPhoto,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,O.jsx)(K,{isOwner:e.isOwner,profile:e.profile})]}):(0,O.jsx)("center",{children:(0,O.jsx)(X.Z,{})})}),Y=n(6871);var ee=n(8834),se=n(7781),ne=function(e){(0,o.Z)(n,e);var s=(0,a.Z)(n);function n(){var e;(0,i.Z)(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=s.call.apply(s,[this].concat(r))).refreshProfile=function(){var s=e.props.router.params.userId;s||(s=e.props.authorizedUserId)||e.props.history.push("/login"),e.props.getProfile(s),e.props.getUserStatus(s)},e}return(0,r.Z)(n,[{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,n){e.router.params.userId!==this.props.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,O.jsx)(Q,(0,t.Z)((0,t.Z)({},this.props),{},{isOwner:!this.props.router.params.userId}))}}]),n}(l.Component),te=(0,se.qC)((0,G.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth,isPhotoUpload:e.profilePage.isPhotoUpload}}),{getProfile:F.Ai,getUserStatus:F.Tq,updateUserStatus:F.OL,uploadPhoto:F.mJ,savePhoto:F.Ju,saveProfile:F.Ii}),(function(e){return function(s){var n=(0,Y.TH)(),i=(0,Y.s0)(),r=(0,Y.UO)();return(0,O.jsx)(e,(0,t.Z)((0,t.Z)({},s),{},{router:{location:n,navigate:i,params:r}}))}}),ee.S)(ne)},8834:function(e,s,n){"use strict";n.d(s,{S:function(){return p}});var t=n(1413),i=n(5671),r=n(3144),o=n(136),a=n(2882),l=n(2791),c=n(6871),d=n(8687),u=n(184),f=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var s=function(s){(0,o.Z)(l,s);var n=(0,a.Z)(l);function l(){return(0,i.Z)(this,l),n.apply(this,arguments)}return(0,r.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,u.jsx)(e,(0,t.Z)({},this.props)):(0,u.jsx)(c.Fg,{to:"/login"})}}]),l}(l.Component);return(0,d.$j)(f)(s)}},1694:function(e,s){var n;!function(){"use strict";var t={}.hasOwnProperty;function i(){for(var e=[],s=0;s<arguments.length;s++){var n=arguments[s];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var a in n)t.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(s,[]))||(e.exports=n)}()}}]);
//# sourceMappingURL=714.61edddde.chunk.js.map